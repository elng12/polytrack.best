<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
</head>
<body>
    <canvas id="canvas" style="border: 1px solid #ccc;"></canvas>
    <div id="download-links"></div>

    <script>
        // Icon sizes needed
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        
        // SVG content for Polytrack logo
        const svgContent = `
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="trackGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
            </linearGradient>
          </defs>
          
          <!-- Background circle -->
          <circle cx="50" cy="50" r="45" fill="url(#trackGradient)" stroke="#1e40af" stroke-width="2"/>
          
          <!-- Racing track -->
          <path d="M20 50 Q30 30, 50 35 Q70 30, 80 50 Q70 70, 50 65 Q30 70, 20 50 Z" 
                fill="none" stroke="white" stroke-width="3" opacity="0.9"/>
          
          <!-- Inner track -->
          <path d="M30 50 Q35 40, 50 42 Q65 40, 70 50 Q65 60, 50 58 Q35 60, 30 50 Z" 
                fill="none" stroke="white" stroke-width="2" opacity="0.7"/>
          
          <!-- Racing car -->
          <rect x="45" y="47" width="10" height="6" rx="2" fill="white"/>
          <circle cx="47" cy="49" r="1" fill="#0ea5e9"/>
          <circle cx="53" cy="49" r="1" fill="#0ea5e9"/>
        </svg>`;

        function generateIcon(size) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = size;
            canvas.height = size;
            
            const img = new Image();
            const svgBlob = new Blob([svgContent], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.clearRect(0, 0, size, size);
                ctx.drawImage(img, 0, 0, size, size);
                
                // Convert to PNG and create download link
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = `icon-${size}x${size}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.textContent = `Download ${size}x${size} icon`;
                    link.style.display = 'block';
                    link.style.margin = '5px 0';
                    
                    document.getElementById('download-links').appendChild(link);
                    
                    // Auto-click to download
                    link.click();
                }, 'image/png');
                
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        // Generate all icons
        window.onload = function() {
            let index = 0;
            function generateNext() {
                if (index < sizes.length) {
                    generateIcon(sizes[index]);
                    index++;
                    setTimeout(generateNext, 1000); // Delay between generations
                }
            }
            generateNext();
        };
    </script>
</body>
</html>